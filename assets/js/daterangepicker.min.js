/*
: Copyright (c) 2012-2015 Dan Grossman. All rights reserved.
 @license: Licensed under the MIT license. See http://www.opensource.org/licenses/mit-license.php
 @website: https://www.improvely.com/
*/
(function(q,v){if("function"===typeof define&&define.amd)define(["moment","jquery","exports"],function(b,a,c){q.daterangepicker=v(q,c,b,a)});else if("undefined"!==typeof exports){var h=require("moment"),e="undefined"!=typeof window?window.jQuery:void 0;if(!e)try{e=require("jquery"),e.fn||(e.fn={})}catch(u){if(!e)throw Error("jQuery dependency not found");}v(q,exports,h,e)}else q.daterangepicker=v(q,{},q.moment||moment,q.jQuery||q.Zepto||q.ender||q.$)})(this||{},function(q,v,h,e){var u=function(b,
a,c){this.parentEl="body";this.element=e(b);this.startDate=h().startOf("day");this.endDate=h().endOf("day");this.timePicker24Hour=this.timePicker=this.showISOWeekNumbers=this.showWeekNumbers=this.showDropdowns=this.singleDatePicker=this.autoApply=this.dateLimit=this.maxDate=this.minDate=!1;this.timePickerIncrement=1;this.timePickerSeconds=!1;this.autoUpdateInput=this.selectPastInvalidDate=this.linkedCalendars=!0;this.alwaysShowCalendars=!1;this.ranges={};this.opens="right";this.element.hasClass("pull-right")&&
(this.opens="left");this.drops="down";this.element.hasClass("dropup")&&(this.drops="up");this.buttonClasses="btn btn-sm";this.applyClass="btn-success";this.cancelClass="btn-default";this.locale={format:"MM/DD/YYYY",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:h.weekdaysMin(),monthNames:h.monthsShort(),firstDay:h.localeData().firstDayOfWeek()};this.callback=function(){};this.isShowing=!1;this.leftCalendar={};this.rightCalendar={};
if("object"!==typeof a||null===a)a={};a=e.extend(this.element.data(),a);"string"===typeof a.template||a.template instanceof e||(a.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>');
this.parentEl=a.parentEl&&e(a.parentEl).length?e(a.parentEl):e(this.parentEl);this.container=e(a.template).appendTo(this.parentEl);"object"===typeof a.locale&&("string"===typeof a.locale.format&&(this.locale.format=a.locale.format),"string"===typeof a.locale.separator&&(this.locale.separator=a.locale.separator),"object"===typeof a.locale.daysOfWeek&&(this.locale.daysOfWeek=a.locale.daysOfWeek.slice()),"object"===typeof a.locale.monthNames&&(this.locale.monthNames=a.locale.monthNames.slice()),"number"===
typeof a.locale.firstDay&&(this.locale.firstDay=a.locale.firstDay),"string"===typeof a.locale.applyLabel&&(this.locale.applyLabel=a.locale.applyLabel),"string"===typeof a.locale.cancelLabel&&(this.locale.cancelLabel=a.locale.cancelLabel),"string"===typeof a.locale.weekLabel&&(this.locale.weekLabel=a.locale.weekLabel),"string"===typeof a.locale.customRangeLabel&&(this.locale.customRangeLabel=a.locale.customRangeLabel));"string"===typeof a.startDate&&(this.startDate=h(a.startDate,this.locale.format));
"string"===typeof a.endDate&&(this.endDate=h(a.endDate,this.locale.format));"string"===typeof a.minDate&&(this.minDate=h(a.minDate,this.locale.format));"string"===typeof a.maxDate&&(this.maxDate=h(a.maxDate,this.locale.format));"object"===typeof a.startDate&&(this.startDate=h(a.startDate));"object"===typeof a.endDate&&(this.endDate=h(a.endDate));"object"===typeof a.minDate&&(this.minDate=h(a.minDate));"object"===typeof a.maxDate&&(this.maxDate=h(a.maxDate));this.minDate&&this.startDate.isBefore(this.minDate)&&
(this.startDate=this.minDate.clone());this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone());"string"===typeof a.applyClass&&(this.applyClass=a.applyClass);"string"===typeof a.cancelClass&&(this.cancelClass=a.cancelClass);"object"===typeof a.dateLimit&&(this.dateLimit=a.dateLimit);"string"===typeof a.opens&&(this.opens=a.opens);"string"===typeof a.drops&&(this.drops=a.drops);"boolean"===typeof a.showWeekNumbers&&(this.showWeekNumbers=a.showWeekNumbers);"boolean"===typeof a.showISOWeekNumbers&&
(this.showISOWeekNumbers=a.showISOWeekNumbers);"string"===typeof a.buttonClasses&&(this.buttonClasses=a.buttonClasses);"object"===typeof a.buttonClasses&&(this.buttonClasses=a.buttonClasses.join(" "));"boolean"===typeof a.showDropdowns&&(this.showDropdowns=a.showDropdowns);"boolean"===typeof a.singleDatePicker&&(this.singleDatePicker=a.singleDatePicker)&&(this.endDate=this.startDate.clone());"boolean"===typeof a.timePicker&&(this.timePicker=a.timePicker);"boolean"===typeof a.timePickerSeconds&&(this.timePickerSeconds=
a.timePickerSeconds);"number"===typeof a.timePickerIncrement&&(this.timePickerIncrement=a.timePickerIncrement);"boolean"===typeof a.timePicker24Hour&&(this.timePicker24Hour=a.timePicker24Hour);"boolean"===typeof a.autoApply&&(this.autoApply=a.autoApply);"boolean"===typeof a.autoUpdateInput&&(this.autoUpdateInput=a.autoUpdateInput);"boolean"===typeof a.linkedCalendars&&(this.linkedCalendars=a.linkedCalendars);"function"===typeof a.isInvalidDate&&(this.isInvalidDate=a.isInvalidDate);"boolean"===typeof a.selectPastInvalidDate&&
(this.selectPastInvalidDate=a.selectPastInvalidDate);"boolean"===typeof a.alwaysShowCalendars&&(this.alwaysShowCalendars=a.alwaysShowCalendars);"function"===typeof a.customDateClassname&&(this.customDateClassname=a.customDateClassname);if(0!=this.locale.firstDay)for(b=this.locale.firstDay;0<b;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),b--;var d,n;if("undefined"===typeof a.startDate&&"undefined"===typeof a.endDate&&e(this.element).is("input[type=text]")){var g=e(this.element).val(),
f=g.split(this.locale.separator);b=d=null;2==f.length?(b=h(f[0],this.locale.format),d=h(f[1],this.locale.format)):this.singleDatePicker&&""!==g&&(b=h(g,this.locale.format),d=h(g,this.locale.format));null!==b&&null!==d&&(this.setStartDate(b),this.setEndDate(d))}if("object"===typeof a.ranges){for(n in a.ranges)b="string"===typeof a.ranges[n][0]?h(a.ranges[n][0],this.locale.format):h(a.ranges[n][0]),d="string"===typeof a.ranges[n][1]?h(a.ranges[n][1],this.locale.format):h(a.ranges[n][1]),this.minDate&&
b.isBefore(this.minDate)&&(b=this.minDate.clone()),g=this.maxDate,this.dateLimit&&b.clone().add(this.dateLimit).isAfter(g)&&(g=b.clone().add(this.dateLimit)),g&&d.isAfter(g)&&(d=g.clone()),this.minDate&&d.isBefore(this.minDate)||g&&b.isAfter(g)||(g=document.createElement("textarea"),g.innerHTML=n,this.ranges[g.value]=[b,d]);b="<ul>";for(n in this.ranges)b+="<li>"+n+"</li>";b+="<li>"+this.locale.customRangeLabel+"</li>";b+="</ul>";this.container.find(".ranges").prepend(b)}"function"===typeof c&&(this.callback=
c);this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide());this.timePicker&&this.autoApply&&(this.autoApply=!1);this.autoApply&&"object"!==typeof a.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide");this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),
this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input i").hide(),this.timePicker||this.container.find(".ranges").hide());("undefined"===typeof a.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar");this.container.addClass("opens"+this.opens);"undefined"!==typeof a.ranges&&"right"==this.opens&&(a=this.container.find(".ranges"),c=a.clone(),a.remove(),this.container.find(".calendar.left").parent().prepend(c));
this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses);this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass);this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass);this.container.find(".applyBtn").html(this.locale.applyLabel);this.container.find(".cancelBtn").html(this.locale.cancelLabel);this.container.find(".calendar").on("click.daterangepicker",".prev",e.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",
e.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",e.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",e.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",e.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",
e.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",e.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_input input",e.proxy(this.formInputsChanged,this));this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",e.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",e.proxy(this.clickCancel,this)).on("click.daterangepicker","li",e.proxy(this.clickRange,this)).on("mouseenter.daterangepicker",
"li",e.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",e.proxy(this.updateFormInputs,this));if(this.element.is("input"))this.element.on({"click.daterangepicker":e.proxy(this.show,this),"focus.daterangepicker":e.proxy(this.show,this),"keyup.daterangepicker":e.proxy(this.elementChanged,this),"keydown.daterangepicker":e.proxy(this.keydown,this)});else this.element.on("click.daterangepicker",e.proxy(this.toggle,this));this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?
(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};u.prototype={constructor:u,setStartDate:function(b){"string"===typeof b&&(this.startDate=h(b,this.locale.format));"object"===typeof b&&(this.startDate=h(b));this.timePicker||(this.startDate=this.startDate.startOf("day"));
this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement);this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate);this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate);this.isShowing||this.updateElement();this.updateMonthsInView()},setEndDate:function(b){"string"===typeof b&&(this.endDate=h(b,this.locale.format));"object"===typeof b&&(this.endDate=h(b));
this.timePicker||(this.endDate=this.endDate.endOf("day"));this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement);this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone());this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate);this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit));
this.previousRightTime=this.endDate.clone();this.isShowing||this.updateElement();this.updateMonthsInView()},isInvalidDate:function(){return!1},firstInvalidDate:function(b,a){if(b>a)return!1;for(b=b.clone();b<a;)if(b.add(1,"days"),this.isInvalidDate(b))return b},customDateClassname:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):
this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled"));this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active"));this.updateMonthsInView();this.updateCalendars();this.updateFormInputs()},
updateMonthsInView:function(){if(this.endDate){if(this.singleDatePicker||!this.leftCalendar.month||!this.rightCalendar.month||this.startDate.format("YYYY-MM")!=this.leftCalendar.month.format("YYYY-MM")&&this.startDate.format("YYYY-MM")!=this.rightCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")!=this.leftCalendar.month.format("YYYY-MM")&&this.endDate.format("YYYY-MM")!=this.rightCalendar.month.format("YYYY-MM"))this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||
this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"))},
updateCalendars:function(){if(this.timePicker){var b,a,c;if(this.endDate){if(b=parseInt(this.container.find(".left .hourselect").val(),10),a=parseInt(this.container.find(".left .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var d=this.container.find(".left .ampmselect").val();"PM"===d&&12>b&&(b+=12);"AM"===d&&12===b&&(b=0)}}else b=parseInt(this.container.find(".right .hourselect").val(),10),a=parseInt(this.container.find(".right .minuteselect").val(),
10),c=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,this.timePicker24Hour||(d=this.container.find(".right .ampmselect").val(),"PM"===d&&12>b&&(b+=12),"AM"===d&&12===b&&(b=0));this.leftCalendar.month.hour(b).minute(a).second(c);this.rightCalendar.month.hour(b).minute(a).second(c)}this.renderCalendar("left");this.renderCalendar("right");this.container.find(".ranges li").removeClass("active");null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(b){var a=
"left"==b?this.leftCalendar:this.rightCalendar,c=a.month.month(),d=a.month.year(),n=a.month.hour(),g=a.month.minute(),f=a.month.second(),a=h([d,c]).daysInMonth(),m=h([d,c,1]),p=h([d,c,a]),c=h(m).subtract(1,"month").month(),d=h(m).subtract(1,"month").year(),l=h([d,c]).daysInMonth(),q=m.day(),a=[];a.firstDay=m;a.lastDay=p;for(m=0;6>m;m++)a[m]=[];m=l-q+this.locale.firstDay+1;m>l&&(m-=7);q==this.locale.firstDay&&(m=l-6);l=h([d,c,m,12,g,f]);for(d=c=m=0;42>m;m++,c++,l=h(l).add(24,"hour"))0<m&&0===c%7&&
(c=0,d++),a[d][c]=l.clone().hour(n).minute(g).second(f),l.hour(12),this.minDate&&a[d][c].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&a[d][c].isBefore(this.minDate)&&"left"==b&&(a[d][c]=this.minDate.clone()),this.maxDate&&a[d][c].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&a[d][c].isAfter(this.maxDate)&&"right"==b&&(a[d][c]=this.maxDate.clone());"left"==b?this.leftCalendar.calendar=a:this.rightCalendar.calendar=a;var c="left"==b?this.minDate:this.startDate,n=this.maxDate,
k='<table class="table-condensed">',k=k+"<thead>",k=k+"<tr>";if(this.showWeekNumbers||this.showISOWeekNumbers)k+="<th></th>";k=c&&!c.isBefore(a.firstDay)||this.linkedCalendars&&"left"!=b?k+"<th></th>":k+'<th class="prev available"><i class="fa fa-chevron-left glyphicon glyphicon-chevron-left"></i></th>';g=this.locale.monthNames[a[1][1].month()]+a[1][1].format(" YYYY");if(this.showDropdowns){for(var l=a[1][1].month(),g=a[1][1].year(),f=n&&n.year()||g+5,d=c&&c.year()||g-50,q=g==d,p=g==f,m='<select class="monthselect">',
r=0;12>r;r++)m=(!q||r>=c.month())&&(!p||r<=n.month())?m+("<option value='"+r+"'"+(r===l?" selected='selected'":"")+">"+this.locale.monthNames[r]+"</option>"):m+("<option value='"+r+"'"+(r===l?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[r]+"</option>");for(c='<select class="yearselect">';d<=f;d++)c+='<option value="'+d+'"'+(d===g?' selected="selected"':"")+">"+d+"</option>";g=m+"</select>"+(c+"</select>")}k+='<th colspan="5" class="month">'+g+"</th>";k=n&&!n.isAfter(a.lastDay)||
this.linkedCalendars&&"right"!=b&&!this.singleDatePicker?k+"<th></th>":k+'<th class="next available"><i class="fa fa-chevron-right glyphicon glyphicon-chevron-right"></i></th>';k+="</tr>";k+="<tr>";if(this.showWeekNumbers||this.showISOWeekNumbers)k+='<th class="week">'+this.locale.weekLabel+"</th>";e.each(this.locale.daysOfWeek,function(a,b){k+="<th>"+b+"</th>"});k+="</tr>";k+="</thead>";k+="<tbody>";null==this.endDate&&this.dateLimit&&(g=this.startDate.clone().add(this.dateLimit).endOf("day"),!n||
g.isBefore(n))&&(n=g);for(d=0;6>d;d++){k+="<tr>";this.showWeekNumbers?k+='<td class="week">'+a[d][0].week()+"</td>":this.showISOWeekNumbers&&(k+='<td class="week">'+a[d][0].isoWeek()+"</td>");for(c=0;7>c;c++){g=[];a[d][c].isSame(new Date,"day")&&g.push("today");5<a[d][c].isoWeekday()&&g.push("weekend");a[d][c].month()!=a[1][1].month()&&g.push("off");this.minDate&&a[d][c].isBefore(this.minDate,"day")&&g.push("off","disabled");n&&a[d][c].isAfter(n,"day")&&g.push("off","disabled");this.isInvalidDate(a[d][c])&&
g.push("off","disabled");a[d][c].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&g.push("active","start-date");null!=this.endDate&&a[d][c].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&g.push("active","end-date");null!=this.endDate&&a[d][c]>this.startDate&&a[d][c]<this.endDate&&g.push("in-range");!1!==(f=this.customDateClassname(a[d][c]))&&("string"===typeof f&&(f=[f]),g=g.concat(f));f="";l=!1;for(m=0;m<g.length;m++)f+=g[m]+" ","disabled"==g[m]&&(l=!0);l||(f+="available");k+=
'<td class="'+f.replace(/^\s+|\s+$/g,"")+'" data-title="r'+d+"c"+c+'">'+a[d][c].date()+"</td>"}k+="</tr>"}k+="</tbody>";k+="</table>";this.container.find(".calendar."+b+" .calendar-table").html(k)},renderTimePicker:function(b){var a,c,d,e=this.maxDate;!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(e=this.startDate.clone().add(this.dateLimit));"left"==b?(c=this.startDate.clone(),d=this.minDate):"right"==b&&(c=this.endDate?this.endDate.clone():this.previousRightTime.clone(),
d=this.startDate,a=this.container.find(".calendar.right .calendar-time div"),""!=a.html()&&(c.hour(a.find(".hourselect option:selected").val()||c.hour()),c.minute(a.find(".minuteselect option:selected").val()||c.minute()),c.second(a.find(".secondselect option:selected").val()||c.second()),this.timePicker24Hour||(a=a.find(".ampmselect option:selected").val(),"PM"===a&&12>c.hour()&&c.hour(c.hour()+12),"AM"===a&&12===c.hour()&&c.hour(0)),c.isBefore(this.startDate)&&(c=this.startDate.clone()),e&&c.isAfter(e)&&
(c=e.clone())));a='<select class="hourselect">';for(var g=this.timePicker24Hour?23:12,f=this.timePicker24Hour?0:1;f<=g;f++){var h=f;this.timePicker24Hour||(h=12<=c.hour()?12==f?12:f+12:12==f?0:f);var p=c.clone().hour(h),l=!1;d&&p.minute(59).isBefore(d)&&(l=!0);e&&p.minute(0).isAfter(e)&&(l=!0);a=h!=c.hour()||l?l?a+('<option value="'+f+'" disabled="disabled" class="disabled">'+f+"</option>"):a+('<option value="'+f+'">'+f+"</option>"):a+('<option value="'+f+'" selected="selected">'+f+"</option>")}a+=
'</select> : <select class="minuteselect">';for(f=0;60>f;f+=this.timePickerIncrement)g=10>f?"0"+f:f,p=c.clone().minute(f),l=!1,d&&p.second(59).isBefore(d)&&(l=!0),e&&p.second(0).isAfter(e)&&(l=!0),a=c.minute()!=f||l?l?a+('<option value="'+f+'" disabled="disabled" class="disabled">'+g+"</option>"):a+('<option value="'+f+'">'+g+"</option>"):a+('<option value="'+f+'" selected="selected">'+g+"</option>");a+="</select> ";if(this.timePickerSeconds){a+=': <select class="secondselect">';for(f=0;60>f;f++)g=
10>f?"0"+f:f,p=c.clone().second(f),l=!1,d&&p.isBefore(d)&&(l=!0),e&&p.isAfter(e)&&(l=!0),a=c.second()!=f||l?l?a+('<option value="'+f+'" disabled="disabled" class="disabled">'+g+"</option>"):a+('<option value="'+f+'">'+g+"</option>"):a+('<option value="'+f+'" selected="selected">'+g+"</option>");a+="</select> "}this.timePicker24Hour||(a+='<select class="ampmselect">',p=f="",d&&c.clone().hour(12).minute(0).second(0).isBefore(d)&&(f=' disabled="disabled" class="disabled"'),e&&c.clone().hour(0).minute(0).second(0).isAfter(e)&&
(p=' disabled="disabled" class="disabled"'),a=12<=c.hour()?a+('<option value="AM"'+f+'>AM</option><option value="PM" selected="selected"'+p+">PM</option>"):a+('<option value="AM" selected="selected"'+f+'>AM</option><option value="PM"'+p+">PM</option>"),a+="</select>");this.container.find(".calendar."+b+" .calendar-time div").html(a)},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||
(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var b=0,a=0,c=e(window).width();
this.parentEl.is("body")||(b=this.parentEl.offset().top-this.parentEl.scrollTop(),a=this.parentEl.offset().left-this.parentEl.scrollLeft(),c=this.parentEl[0].clientWidth+this.parentEl.offset().left);b="up"==this.drops?this.element.offset().top-this.container.outerHeight()-b:this.element.offset().top+this.element.outerHeight()-b;this.container["up"==this.drops?"addClass":"removeClass"]("dropup");"left"==this.opens?(this.container.css({top:b,right:c-this.element.offset().left-this.element.outerWidth(),
left:"auto"}),0>this.container.offset().left&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:b,left:this.element.offset().left-a+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),0>this.container.offset().left&&this.container.css({right:"auto",left:9})):(this.container.css({top:b,left:this.element.offset().left-a,right:"auto"}),this.container.offset().left+this.container.outerWidth()>e(window).width()&&this.container.css({left:"auto",
right:0}))},show:function(b){this.isShowing||(this._outsideClickProxy=e.proxy(function(a){this.outsideClick(a)},this),e(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),e(window).on("resize.daterangepicker",e.proxy(function(a){this.move(a)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=
this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(b){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),e(document).off(".daterangepicker"),
e(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(b){this.isShowing?this.hide():this.show()},outsideClick:function(b){var a=e(b.target);"focusin"==b.type||a.closest(this.element).length||a.closest(this.container).length||a.closest(".calendar-table").length||this.hide()},showCalendars:function(){this.container.addClass("show-calendar");this.move();this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar");
this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(b){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(b=b.target.innerHTML,b==this.locale.customRangeLabel?this.updateView():(b=this.ranges[b],this.container.find("input[name=daterangepicker_start]").val(b[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(b[1].format(this.locale.format))))},
clickRange:function(b){this.chosenLabel=b=b.target.innerHTML;b==this.locale.customRangeLabel?this.showCalendars():(b=this.ranges[b],this.startDate=b[0],this.endDate=b[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply())},clickPrev:function(b){e(b.target).parents(".calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,
"month");this.updateCalendars()},clickNext:function(b){e(b.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month"));this.updateCalendars()},hoverDate:function(b){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")&&e(b.target).hasClass("available")){var a=e(b.target).attr("data-title"),
c=a.substr(1,1),a=a.substr(3,1),d=e(b.target).parents(".calendar").hasClass("left")?this.leftCalendar.calendar[c][a]:this.rightCalendar.calendar[c][a];b=function(a){this.container.find("input[name=daterangepicker_start]").val(a.format(this.locale.format))}.bind(this);var h=function(a){this.container.find("input[name=daterangepicker_end]").val(a.format(this.locale.format))}.bind(this);this.endDate?b(d):h(d);var g=this.leftCalendar,f=this.rightCalendar,m=this.startDate;if(!this.selectPastInvalidDate)var p=
this.firstInvalidDate(m,d),l=p?p.clone().subtract(1,"days"):!1;if(!this.endDate){var q=this;this.container.find(".calendar td").each(function(a,b){if(!e(b).hasClass("week")){var c=e(b).attr("data-title"),t=c.substr(1,1),c=c.substr(3,1),t=e(b).parents(".calendar").hasClass("left")?g.calendar[t][c]:f.calendar[t][c];if(t.isAfter(m)&&t.isBefore(d)){if(!q.selectPastInvalidDate&&(l&&t.format("DD-MM-YYYY")==l.format("DD-MM-YYYY")&&e(b).addClass("in-range-end"),p&&t.isAfter(p))){h(l);return}e(b).addClass("in-range")}else e(b).removeClass("in-range"),
e(b).removeClass("in-range-end")}})}}},clickDate:function(b){if(e(b.target).hasClass("available")){var a=e(b.target).attr("data-title"),c=a.substr(1,1),a=a.substr(3,1);b=e(b.target).parents(".calendar").hasClass("left")?this.leftCalendar.calendar[c][a]:this.rightCalendar.calendar[c][a];if(this.endDate||b.isBefore(this.startDate,"day")){if(this.timePicker){c=parseInt(this.container.find(".left .hourselect").val(),10);this.timePicker24Hour||(a=this.container.find(".left .ampmselect").val(),"PM"===a&&
12>c&&(c+=12),"AM"===a&&12===c&&(c=0));var a=parseInt(this.container.find(".left .minuteselect").val(),10),d=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;b=b.clone().hour(c).minute(a).second(d)}this.endDate=null;this.setStartDate(b.clone())}else!this.endDate&&b.isBefore(this.startDate)?this.setEndDate(this.startDate.clone()):(this.timePicker&&(c=parseInt(this.container.find(".right .hourselect").val(),10),this.timePicker24Hour||(a=this.container.find(".right .ampmselect").val(),
"PM"===a&&12>c&&(c+=12),"AM"===a&&12===c&&(c=0)),a=parseInt(this.container.find(".right .minuteselect").val(),10),d=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,b=b.clone().hour(c).minute(a).second(d)),(c=this.selectPastInvalidDate?!1:this.firstInvalidDate(this.startDate,b))?this.setEndDate(c.subtract(1,"days")):this.setEndDate(b.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply()));this.singleDatePicker&&(this.setEndDate(this.startDate),
this.timePicker||this.clickApply());this.updateView()}},calculateChosenLabel:function(){var b=!0,a=0,c;for(c in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[c][0])&&this.endDate.isSame(this.ranges[c][1])){b=!1;this.chosenLabel=this.container.find(".ranges li:eq("+a+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[c][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[c][1].format("YYYY-MM-DD")){b=!1;this.chosenLabel=
this.container.find(".ranges li:eq("+a+")").addClass("active").html();break}a++}b&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())},clickApply:function(b){this.hide();this.element.trigger("apply.daterangepicker",this)},clickCancel:function(b){this.startDate=this.oldStartDate;this.endDate=this.oldEndDate;this.hide();this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(b){b=e(b.target).closest(".calendar").hasClass("left");
var a=this.container.find(".calendar."+(b?"left":"right")),c=parseInt(a.find(".monthselect").val(),10),a=a.find(".yearselect").val();!b&&(a<this.startDate.year()||a==this.startDate.year()&&c<this.startDate.month())&&(c=this.startDate.month(),a=this.startDate.year());this.minDate&&(a<this.minDate.year()||a==this.minDate.year()&&c<this.minDate.month())&&(c=this.minDate.month(),a=this.minDate.year());this.maxDate&&(a>this.maxDate.year()||a==this.maxDate.year()&&c>this.maxDate.month())&&(c=this.maxDate.month(),
a=this.maxDate.year());b?(this.leftCalendar.month.month(c).year(a),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(c).year(a),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month")));this.updateCalendars()},timeChanged:function(b){var a=e(b.target).closest(".calendar"),c=a.hasClass("left");b=parseInt(a.find(".hourselect").val(),10);var d=parseInt(a.find(".minuteselect").val(),
10),h=this.timePickerSeconds?parseInt(a.find(".secondselect").val(),10):0;this.timePicker24Hour||(a=a.find(".ampmselect").val(),"PM"===a&&12>b&&(b+=12),"AM"===a&&12===b&&(b=0));c?(c=this.startDate.clone(),c.hour(b),c.minute(d),c.second(h),this.setStartDate(c),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==c.format("YYYY-MM-DD")&&this.endDate.isBefore(c)&&this.setEndDate(c.clone())):this.endDate&&(c=this.endDate.clone(),c.hour(b),c.minute(d),
c.second(h),this.setEndDate(c));this.updateCalendars();this.updateFormInputs();this.renderTimePicker("left");this.renderTimePicker("right")},formInputsChanged:function(b){b=e(b.target).closest(".calendar").hasClass("right");var a=h(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),c=h(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);a.isValid()&&c.isValid()&&(b&&c.isBefore(a)&&(a=c.clone()),this.setStartDate(a),this.setEndDate(c),
b?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format)));this.updateCalendars();this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"))},elementChanged:function(){if(this.element.is("input")&&this.element.val().length&&!(this.element.val().length<this.locale.format.length)){var b=this.element.val().split(this.locale.separator),
a=null,c=null;2===b.length&&(a=h(b[0],this.locale.format),c=h(b[1],this.locale.format));if(this.singleDatePicker||null===a||null===c)c=a=h(this.element.val(),this.locale.format);a.isValid()&&c.isValid()&&(this.setStartDate(a),this.setEndDate(c),this.updateView())}},keydown:function(b){9!==b.keyCode&&13!==b.keyCode||this.hide()},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+
this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove();this.element.off(".daterangepicker");this.element.removeData()}};e.fn.daterangepicker=function(b,a){this.each(function(){var c=e(this);c.data("daterangepicker")&&c.data("daterangepicker").remove();c.data("daterangepicker",new u(c,b,a))});return this};
return u});
